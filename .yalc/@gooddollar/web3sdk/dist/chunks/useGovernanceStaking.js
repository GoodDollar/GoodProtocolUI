import{x as r,D as o,g as t,S as a,H as s,I as n,a2 as e,n as i,p as c,a1 as u}from"./tokens.js";import{useState as m,useMemo as p,useEffect as f}from"react";import{g as l}from"./getContract.js";import{G as d}from"./StakersDistributionContract.js";import{h as S}from"./staking.js";import{L as v}from"./protocols.js";import{u as E,l as g}from"./provider.js";var k=function(k,A){var F=r(E(o.MAINNET,k,A),2),U=F[0],j=F[1],w=r(E(o.FUSE,k,A),1)[0],G=r(m([]),2),b=G[0],h=G[1],D=t(),O=p((function(){return w&&"production"===D&&l(a.FUSE,"GovernanceStakingV2",d.abi,w)}),[w,D]),x=p((function(){return w&&"production"!==D&&l(a.FUSE,"GovernanceStaking",d.abi,w)}),[w,D]),y=O||x;return f((function(){s(void 0,void 0,void 0,(function(){var o,t,s,m,p;return n(this,(function(n){switch(n.label){case 0:return U&&y?[4,Promise.all([y.getRewardsPerBlock().then((function(r){return r.mul(6307200)})),y.totalSupply()])]:[3,3];case 1:return o=r.apply(void 0,[n.sent(),2]),t=o[0],s=o[1],[4,S(U,j)];case 2:m=n.sent(),p={address:y.address,socialAPY:m,protocol:v.GOODDAO,rewards:{G$:e.fromRawAmount(i[a.FUSE],0),GDAO:e.fromRawAmount(c[a.FUSE],t)},liquidity:new u(s,100),tokens:{A:i[a.FUSE],B:i[a.FUSE]}},h([p]),n.label=3;case 3:return[2]}}))})).catch(g.exports.noop)}),[y,h,U,j]),b};export{k as u};
